# ğŸ¤ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° pytorch_elastic... Ğ·Ğ°Ğ´Ğ°Ñ‡ Ñ‡ĞµÑ€ĞµĞ· â˜ï¸ğŸ‘”ğŸ”’ mls job submit --config ./pytorch_elastic.yaml
# ğŸ“š health - ğŸš€ĞŸĞ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€...   
# ğŸ“š policy - ğŸš€ĞŸĞ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€...   
# ğŸ“š processes ĞµÑĞ»Ğ¸ Ğ½Ğµ Ğ·Ğ°Ğ´Ğ°Ğ½ ÑƒÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ² ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğ¸ Ñ gpu
# ğŸ“š ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ https://api.ai.cloud.ru/public/v2/redoc   
# ğŸ“š ĞĞ±Ñ€Ğ°Ğ·: https://cloud.ru/docs/aicloud/mlspace/concepts/environments__basic-images-list__jobs.html 
# ğŸ“š max_retry Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ğ¼Ñ‹Ğ¹ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğº Ğ°Ğ»Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸ÑĞ¼ 
# ğŸ“š â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ â¬‡ï¸
# ğŸ“š https://github.com/sbercloud-ai/aicloud-examples/tree/master/quick-start
job:
  description: set any useful description
  environment:
    conda_name: conda_name
    flags:
      flag1: true
      flag2: true
    image: cr.ai.cloud.ru/aicloud-base-images/py3.10-torch2.1.2:0.0.40
    variables:
      ENV_1: true
      ENV_2: true
  health:
    external_actions:
    - notify
    internal_action: restart
    period: 20
  policy:
    checkpoint_dir: /home/jovyan/checkpoint
    elastic_max_restarts: 5
    internet_access: true
    priority_class: medium
    queue_name: my-favorite-allocation
  resource:
    elastic_max_workers: 3
    elastic_min_workers: 2
    instance_type: a100.1gpu
    processes: 1
    workers: 3
  script: 'python -c "from time import sleep; sleep(1000);" '
  type: pytorch_elastic
