{{ last_argument }}
{{ last_argument |populate_eq}}

{{ full_command }} --- {{ line[2] | trim }}
{{ empty }}



{%- for l in line -%}
{% if "Синтаксис:" in l %}
- Синтаксис: ``{{ l | replace("Синтаксис: ", "") | trim }}``
{% elif "Использование:" in l %}
- Использование: ``{{ l | replace("Использование: ", "") | trim }}``
{% elif "Аргументы:" in l and loop.index < line|length %}
- Аргументы: ``{{ line[loop.index] | trim }} ``
{% elif "Пример:" in l %}
- Пример: ``{{ l | replace("Пример: ", "") | trim }} ``
{% elif "Например:" in l %}
- Пример: ``{{ l | replace("Например: ", "") | trim }} ``
{% endif %}
{%- endfor -%}

{% set categories = {
    'Манифест параметров запуска задачи::': 'Манифест параметров запуска задачи',
    'Минимальный набор опций для запуска задачи::': 'Минимальный набор опций для запуска задачи',
    'Обязательные опций:': 'Обязательные опции',

    'Опции:': 'Опции',
    'Опции обязательные:': 'Опции обязательные',
    'Опции дополнительные:': 'Опции дополнительные',
    'Необязательные опции:': 'Необязательные опции',
    'Дополнительные опции управления окружением::': 'Дополнительные опции управления окружением',
    'Дополнительные опции управления ресурсами::': 'Дополнительные опции управления ресурсами',
    'Дополнительные опции управления политиками::': 'Дополнительные опции управления политиками',
    'Дополнительные опции управления в аллокации::': 'Дополнительные опции управления в аллокации',
    'Дополнительные опции управления оповещением::': 'Дополнительные опции управления оповещением',
    'Дополнительные опции управления Pytorch Elastic::':  'Дополнительные опции управления Pytorch Elastic',
    'Дополнительные опции управления Pytorch2::':  'Дополнительные опции управления Pytorch2',
    'Дополнительные опции управления Spark::':  'Дополнительные опции управления Spark',
    'Опции дополнительных полей таблицы:':  'Опции дополнительных полей таблицы',
    'Параметры пагинации:':  'Параметры пагинации:',
    'Опции дополнительных полей таблицы:' : 'Опции дополнительных полей таблицы',
    'Опции фильтрации::': 'Опции фильтрации',
    'Опции сортировки::': 'Опции сортировки',
    'Опции профиля:': 'Опции профиля',
    'Опции отладки:': 'Опции отладки',
    'Опции профиля::': 'Опции профиля',
    'Режим отладки::': 'Режим отладки'
} %}

{%- for section, title in categories.items() -%}
{% if options[section] %}
.. list-table:: {{ title }}
   :widths: 5 5 5
   :header-rows: 1
   {% for param, long, format, desc in options[section] %}
   * - {{ param }} {{ long }}
     - [{{ format }}]
     - {{ desc }}
   {% endfor %}
{% endif %}
{%- endfor -%}
